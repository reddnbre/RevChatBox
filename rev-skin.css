/* RevChattyBox — Lava Skin overlay (works with your existing classes)
   Default = Day. Dark mode via: html[data-theme="dark"] … (already in your CSS)
   Or add .rev-dark to body for manual toggle without changing HTML tag.
*/
.rev-skin{
  --bg:#f6f7fb; --bg-2:#eef1f6; --panel:#ffffff; --text:#1b1e28; --muted:#6a6f7a; --border:#e6e8ef;
  --accent-1:#ff7a18; --accent-2:#ff3d00;            /* lava gradient */
  --gold-grad:linear-gradient(180deg, rgba(255,184,77,.18), rgba(255,184,77,.10));
  --gold-border:rgba(255,184,77,.35); --gold-text:#704400;
  --me-text:#fff; --online:#21a76a;
  --r-xxl:22px; --r-xl:20px; --r-lg:18px; --r-md:14px; --r-pill:999px;
  --e-card:0 14px 40px rgba(20,24,40,.10),0 2px 8px rgba(20,24,40,.06);
  --e-bubble:0 6px 20px rgba(20,24,40,.08);
  --e-ghost:0 4px 12px rgba(20,24,40,.06);
  --e-accent:0 10px 28px rgba(255,90,0,.25);
}

/* Dark tokens (works with your existing html[data-theme="dark"]) */
html[data-theme="dark"] .rev-skin,
.rev-skin.rev-dark{
  --bg:#0b0c10; --bg-2:#0e1016; --panel:#0f121a; --text:#f1f3f7; --muted:#9aa3ad; --border:rgba(255,255,255,.12);
  --gold-grad:linear-gradient(180deg, rgba(255,184,77,.18), rgba(255,184,77,.08));
  --gold-border:rgba(255,184,77,.25); --gold-text:#ffdca8;
  --me-text:#fff; /* white on lava for perfect contrast */
  --e-card:0 18px 60px rgba(0,0,0,.45),0 2px 8px rgba(0,0,0,.25);
  --e-bubble:0 10px 30px rgba(0,0,0,.35);
  --e-ghost:0 4px 12px rgba(0,0,0,.25);
  --e-accent:0 10px 28px rgba(255,90,0,.35);
}

/* Page background */
.rev-skin{
  background:
    radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--panel) 35%, transparent) 0%, transparent 62%),
    radial-gradient(1000px 600px at 90% 110%, color-mix(in oklab, var(--panel) 35%, transparent) 0%, transparent 62%),
    linear-gradient(180deg, var(--bg), var(--bg-2));
  color:var(--text);
  font-family: Inter, Roboto, Segoe UI, system-ui, -apple-system, Arial, sans-serif;
}

/* ===== Header (yours: .header + .header-content) ===== */
.rev-skin .header{
  background: linear-gradient(90deg, rgba(255,255,255,.75), rgba(255,255,255,.55)),
              linear-gradient(90deg, var(--accent-1), var(--accent-2));
  border-bottom:1px solid var(--border);
  box-shadow:var(--e-card);
}
html[data-theme="dark"] .rev-skin .header,
.rev-skin.rev-dark .header{
  background:
    linear-gradient(90deg, rgba(0,0,0,.35), rgba(0,0,0,.15)),
    linear-gradient(90deg, var(--accent-1), var(--accent-2));
}

/* ===== Ads (your .ad-banner, .side-ad) ===== */
.rev-skin .ad-banner{
  color:var(--muted);
  background: linear-gradient(180deg, color-mix(in oklab, #fff 7%, var(--panel)), color-mix(in oklab, #fff 3%, var(--panel)));
  border:1px dashed var(--border);
  border-radius:var(--r-xl);
  box-shadow:var(--e-card);
}
.rev-skin .side-ad{
  color:var(--muted);
  background: linear-gradient(180deg, color-mix(in oklab, #fff 7%, var(--panel)), color-mix(in oklab, #fff 3%, var(--panel)));
  border:1px dashed var(--border);
  border-radius:var(--r-xl);
  box-shadow:var(--e-card);
}

/* ===== Chat container & header (yours: .chat-container, .chat-header) ===== */
.rev-skin .chat-container{
  background: linear-gradient(180deg, color-mix(in oklab,#fff 6%, var(--panel)), color-mix(in oklab,#fff 2%, var(--panel)));
  border:1px solid var(--border);
  border-radius:var(--r-xxl);
  box-shadow:var(--e-card);
  overflow:hidden; position:relative; isolation:isolate;
}
.rev-skin .chat-container::before,
.rev-skin .chat-container::after{
  content:""; position:absolute; border-radius:50%; filter:blur(50px); opacity:.25; pointer-events:none;
}
.rev-skin .chat-container::before{ width:260px; height:260px; top:-60px; right:-40px; background: radial-gradient(closest-side, var(--accent-1), transparent); }
.rev-skin .chat-container::after{ width:300px; height:300px; bottom:-100px; left:-60px; background: radial-gradient(closest-side, var(--accent-2), transparent); }

.rev-skin .chat-header{
  background:
    linear-gradient(90deg, rgba(0,0,0,.03), rgba(0,0,0,.02)),
    linear-gradient(90deg, var(--accent-1), var(--accent-2));
  color:#fff; padding:20px; border-bottom:1px solid var(--border);
  border-top-left-radius:var(--r-xxl); border-top-right-radius:var(--r-xxl);
}
.rev-skin .chat-header h2{ font-weight:800; letter-spacing:.2px; }

/* ===== Welcome stripe (system message at top) ===== */
.rev-skin .system-message{
  background: var(--gold-grad);
  border:1px solid var(--gold-border);
  color:var(--gold-text);
  font-style:italic; text-align:left;
  box-shadow:none;
}

/* ===== Messages (yours: .chat-messages, .message.user/.bot/.pm) ===== */
.rev-skin .chat-messages{ padding:20px; overflow:auto; }
.rev-skin .message{
  border-radius:var(--r-md); padding:12px 16px; box-shadow:var(--e-bubble); border:1px solid var(--border);
  background: #fff; color:var(--text);
}
html[data-theme="dark"] .rev-skin .message,
.rev-skin.rev-dark .message{ background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.12); }

.rev-skin .message.user{
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color: var(--me-text); border:none; box-shadow: var(--e-accent);
}
.rev-skin .message.bot{
  background: color-mix(in oklab, #fff 95%, var(--panel));
  border:1px solid var(--border); color:var(--text);
}
html[data-theme="dark"] .rev-skin .message.bot,
.rev-skin.rev-dark .message.bot{
  background: #121826; color:#c7d2fe; border-color:#1f2937;
}
.rev-skin .pm-badge{
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
}

/* ===== Composer (yours: .footer + #messageInput + buttons) ===== */
.rev-skin .footer{
  background: linear-gradient(180deg, color-mix(in oklab, #fff 96%, var(--panel)), color-mix(in oklab, #fff 92%, var(--panel)));
  border-top:1px solid var(--border); box-shadow:var(--e-card);
}
.rev-skin #messageInput{
  background: color-mix(in oklab, #fff 96%, var(--panel));
  border:1px solid var(--border); color:var(--text);
  border-radius:14px; padding:12px 15px;
}
html[data-theme="dark"] .rev-skin #messageInput,
.rev-skin.rev-dark #messageInput{
  background: rgba(17,24,39,.55); border:1px solid #263143; color:#e5e7eb;
}

/* Buttons (reuse your .btn classes) */
.rev-skin .btn-primary{
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color:#111; border:none; box-shadow:var(--e-accent);
}
.rev-skin .btn-primary:hover{ transform:translateY(-2px); }
.rev-skin .btn-secondary{ background: rgba(255,255,255,.1); border:1px solid var(--border); }
html[data-theme="dark"] .rev-skin .btn-secondary,
.rev-skin.rev-dark .btn-secondary{ background: rgba(255,255,255,.10); border-color: var(--border); color:#fff; }

/* Optional: compact pill for user count if you display one in header */
.rev-skin .user-pill{
  display:inline-flex; align-items:center; gap:8px; padding:6px 12px; border-radius:var(--r-pill);
  background: #fff; border:1px solid var(--border); color:#2b2f3a; box-shadow:var(--e-ghost);
}
.rev-skin .user-pill .dot{ width:8px; height:8px; border-radius:50%; background:var(--online); box-shadow:0 0 8px var(--online); }
html[data-theme="dark"] .rev-skin .user-pill,
.rev-skin.rev-dark .user-pill{ background: rgba(0,0,0,.35); color:#fff; border-color: var(--border); }

