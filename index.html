<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RevChattyBox - Gaming Chat Hub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Sora:wght@500;600;800&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <!-- <link rel="stylesheet" href="revchattybox-skin.css"> -->
    <!-- <link rel="stylesheet" href="rev-skin.css"> -->
    <!-- <link rel="stylesheet" href="revchattybox-ads-typography.css"> -->
    <!-- <link rel="stylesheet" href="revchattybox-ads-typography-v2.css"> -->
    <!-- <link rel="stylesheet" href="revchattybox-header-layout-fix.css"> -->
    <link rel="stylesheet" href="revchattybox-modern.css">
</head>
<body class="rev-skin">
    <!-- Cookie Consent Banner -->
    <div id="cookieBanner" class="cookie-banner">
        <div class="cookie-content">
            <div class="cookie-text">
                <span class="cookie-icon">üç™</span>
                <p>We use cookies to save your preferences, theme settings, and game progress. By continuing to use RevChattyBox, you consent to the storage of this data on your device.</p>
            </div>
            <div class="cookie-actions">
                <button id="cookieAccept" class="btn btn-primary">Accept</button>
                <button id="cookieDecline" class="btn btn-secondary">Decline</button>
            </div>
        </div>
    </div>

    <!-- Gaming Splash / Loading Page -->
    <div id="splash" class="splash">
        <!-- Animated background blobs -->
        <div class="splash-bg">
            <div class="blob blob-1"></div>
            <div class="blob blob-2"></div>
            <div class="blob blob-3"></div>
        </div>
        
        <!-- Main glassmorphism card -->
        <div class="splash-card glass">
            <!-- Header section -->
            <div class="splash-header">
                <div class="logo">
                    <span class="grad">üéÆ RevChattyBox</span>
                </div>
                <div class="tagline">Premium Gaming Chat Hub</div>
                <div class="subtitle">Experience the future of gaming communication</div>
            </div>
            
            <!-- Progress section -->
            <div class="progress-section">
                <div class="progress-header">
                    <span class="status-text" id="statusText">Initializing...</span>
                    <span class="progress-percent" id="progressPercent">0%</span>
                </div>
                <div class="progress-track" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Loading progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="progress-tips" id="progressTips">
                    <span class="tip">Loading game assets...</span>
                </div>
            </div>
            
            <!-- Action buttons -->
            <div class="splash-actions">
                <button id="enterBtn" class="btn btn-primary" disabled>
                    <span class="btn-text">Enter Gaming Hub</span>
                    <span class="btn-icon">üöÄ</span>
                </button>
                <button id="skipBtn" class="btn btn-secondary">
                    <span class="btn-text">Skip Loading</span>
                </button>
            </div>
        </div>
    </div>
    <!-- Header: ONLY the top ad banner -->
    <header class="header" role="banner">
        <div class="ad-banner top-ad ad-top">
          <div class="ad-placeholder">Ad Space ‚Äî Top Banner</div>
        </div>
    </header>

    <div class="main-container">
        <!-- Left Sidebar with Ad -->
        <aside class="sidebar left-sidebar ad-side">
            <div class="ad-banner side-ad">
                <div class="ad-placeholder">Ad Space - Left Sidebar</div>
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="chat-container">
            <div class="chat-header">
                <div class="brand">
                    <h1 class="title">üéÆ RevChattyBox</h1>
                </div>
                <div class="bar-spacer"></div>
                <div class="actions">
                    <span id="displayName" class="display-name"></span>
                    <span id="userCount" class="pill users"><span class="dot"></span><span>Users: 0</span></span>
                    <button id="gameHubBtn" class="btn">Game Hub</button>
                    <button id="themeToggleBtn" class="btn" aria-label="Toggle theme">üåô</button>
                    <button id="pmBtn" class="btn ghost" aria-label="Private Message">PM</button>
                </div>
            </div>
            
            <div id="chatMessages" class="chat-messages messages">
                <div class="system-message">
                    Welcome to RevChattyBox! Your gaming chat hub.
                </div>
            </div>
            <div class="composer-bar">
                <div class="composer ibox">
                    <input type="text" id="messageInput" placeholder="Type your message..." maxlength="500">
                    <button id="emojiBtn" class="btn btn-emoji" title="Add Emoji">üòä</button>
                    <button id="sendBtn" class="btn btn-primary send">Send</button>
                </div>
            </div>
        </main>

        <!-- Right Sidebar with Ad -->
        <aside class="sidebar right-sidebar ad-side">
            <div class="ad-banner side-ad">
                <div class="ad-placeholder">Ad Space - Right Sidebar</div>
            </div>
        </aside>
    </div>

    <!-- Bottom Ad Banner -->
    <footer class="footer">
        <div class="ad-banner bottom-ad ad-bottom">
            <div class="ad-placeholder">Ad Space - Bottom Banner</div>
        </div>
    </footer>

    <!-- Game Hub Modal -->
    <div id="gameHubModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéÆ Game Hub</h2>
                <span class="close" onclick="GameManager.hideGameHub()">&times;</span>
            </div>
            <div class="modal-body">
                <div id="gameList" class="game-list">
                    <!-- Games will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Game Modal -->
    <div id="gameModal" class="modal">
        <div class="modal-content game-modal">
            <div class="modal-header">
                <h2 id="gameTitle">Game</h2>
                <span class="close" onclick="GameManager.hideGameModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div id="gameStatus" class="game-status">
                    <!-- Game status will be shown here -->
                </div>
                <div id="gameContainer" class="game-container">
                    <!-- Game content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Emoji Picker Modal -->
    <div id="emojiPicker" class="emoji-picker">
        <div class="emoji-picker-content">
            <div class="emoji-picker-header">
                <h3>Choose an Emoji</h3>
                <span class="close" onclick="EmojiManager.hidePicker()">&times;</span>
            </div>
            <div class="emoji-grid">
                <!-- Emojis will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîê Admin Login</h2>
                <span class="close" onclick="AdminManager.hideLoginModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="adminLoginForm">
                    <div class="form-group">
                        <label for="adminUsername">Username:</label>
                        <input type="text" id="adminUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">Password:</label>
                        <input type="password" id="adminPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Backoffice Modal -->
    <div id="adminBackofficeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è Admin Backoffice</h2>
                <span class="close" onclick="AdminManager.hideBackofficeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="admin-section">
                    <h3>Site Analytics</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-title">Games Played (24h)</div>
                            <div id="statGames24h" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Games Played (All Time)</div>
                            <div id="statGamesAll" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Ad Impressions (24h)</div>
                            <div id="statAds24h" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Ad Impressions (All Time)</div>
                            <div id="statAdsAll" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Unique Visitors (24h)</div>
                            <div id="statUV24h" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Unique Visitors (3 mo)</div>
                            <div id="statUV3m" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Unique Visitors (6 mo)</div>
                            <div id="statUV6m" class="stat-value">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-title">Unique Visitors (1 yr)</div>
                            <div id="statUV1y" class="stat-value">0</div>
                        </div>
                    </div>
                </div>
                <div class="admin-section">
                    <h3>Ad Management</h3>
                    <div class="ad-controls">
                        <button id="manageAdsBtn" class="btn btn-primary">Manage Ads</button>
                        <button id="headerCodesBtn" class="btn btn-secondary">Header Verification Codes</button>
                    </div>
                </div>
                <div class="admin-section">
                    <h3>Site Settings</h3>
                    <div class="settings-controls">
                        <button id="siteConfigBtn" class="btn btn-info">Site Configuration</button>
                        <button id="userMgmtBtn" class="btn btn-warning">User Management</button>
                    </div>
                </div>
                <div id="adminDynamic" class="admin-section" style="display:none;"></div>
            </div>
        </div>
    </div>

    <!-- Name Entry Modal -->
    <div id="nameEntryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Welcome to RevChattyBox</h2>
                <span class="close" onclick="NameManager.hideModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p>Enter a display name for chat and games. This is saved on your device.</p>
                <form id="nameEntryForm">
                    <div class="form-group">
                        <label for="displayNameInput">Display Name</label>
                        <input type="text" id="displayNameInput" maxlength="20" placeholder="e.g. PlayerOne" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Continue</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Private Message Modal -->
    <div id="pmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Private Message</h2>
                <span class="close" onclick="PMManager.hideModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="pmForm">
                    <div class="form-group">
                        <label for="pmRecipient">Recipient</label>
                        <input type="text" id="pmRecipient" placeholder="Enter recipient name" required />
                    </div>
                    <div class="form-group">
                        <label for="pmText">Message</label>
                        <input type="text" id="pmText" maxlength="300" placeholder="Type a private message..." required />
                    </div>
                    <button type="submit" class="btn btn-primary">Send</button>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>