<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>RevChattyBox - Firebase Setup Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6; }
    .step { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 8px; }
    .code { background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 5px; overflow-x: auto; }
    .warning { background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 5px; }
    .success { background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 5px; }
  </style>
</head>
<body>
  <h1>üî• Firebase Setup for RevChattyBox</h1>
  
  <div class="warning">
    <strong>‚ö†Ô∏è Current Status:</strong> Your chat is already working perfectly with local storage. This guide is only if you want real-time messaging between different users.
  </div>

  <div class="step">
    <h2>Step 1: Create Firebase Project</h2>
    <ol>
      <li>Go to <a href="https://firebase.google.com" target="_blank">firebase.google.com</a></li>
      <li>Click "Get Started" ‚Üí "Create a project"</li>
      <li>Name it "RevChattyBox" (or whatever you prefer)</li>
      <li>Disable Google Analytics (not needed for chat)</li>
      <li>Click "Create project"</li>
    </ol>
  </div>

  <div class="step">
    <h2>Step 2: Enable Firestore Database</h2>
    <ol>
      <li>In your Firebase project, click "Firestore Database"</li>
      <li>Click "Create database"</li>
      <li>Choose "Start in test mode" (we'll secure it later)</li>
      <li>Select a location (choose closest to your users)</li>
      <li>Click "Done"</li>
    </ol>
  </div>

  <div class="step">
    <h2>Step 3: Add Web App</h2>
    <ol>
      <li>In Firebase Console, click the gear icon ‚Üí "Project settings"</li>
      <li>Scroll down to "Your apps" section</li>
      <li>Click the web icon (</>)</li>
      <li>App nickname: "RevChattyBox Web"</li>
      <li>Check "Also set up Firebase Hosting" (optional)</li>
      <li>Click "Register app"</li>
      <li>Copy the config object that appears</li>
    </ol>
  </div>

  <div class="step">
    <h2>Step 4: Replace Config in Your Code</h2>
    <p>Replace this placeholder config in your index.html:</p>
    <div class="code">
// Replace this placeholder:
const firebaseConfig = {
  apiKey: "AIzaSyBvOkBwqLqJ8H9vF2mN3pQ4rS5tU6vW7xY8z",
  authDomain: "revchattybox.firebaseapp.com",
  projectId: "revchattybox",
  storageBucket: "revchattybox.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef1234567890"
};

// With your REAL config from Firebase Console:
const firebaseConfig = {
  apiKey: "YOUR_REAL_API_KEY",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-real-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "YOUR_REAL_SENDER_ID",
  appId: "YOUR_REAL_APP_ID"
};
    </div>
  </div>

  <div class="step">
    <h2>Step 5: Set Firestore Rules (Temporary)</h2>
    <p>In Firebase Console ‚Üí Firestore Database ‚Üí Rules, paste this:</p>
    <div class="code">
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} { 
      allow read, write: if true; 
    }
  }
}
    </div>
    <p>Click "Publish" - this allows anyone to read/write (dev only!)</p>
  </div>

  <div class="step">
    <h2>Step 6: Test the Connection</h2>
    <p>Add this test code after your Firebase config to verify it works:</p>
    <div class="code">
// Test Firebase connection
console.log("Firebase config:", firebaseConfig);

// Quick write test
try {
  const testRef = await addDoc(collection(db, "test"), { 
    message: "Hello Firebase!", 
    timestamp: serverTimestamp() 
  });
  console.log("‚úÖ Firebase write test successful:", testRef.id);
} catch (error) {
  console.error("‚ùå Firebase test failed:", error);
}
    </div>
  </div>

  <div class="success">
    <h2>üéâ Success!</h2>
    <p>If you see "Firebase write test successful" in the console, your Firebase is properly configured and the 400 errors will disappear.</p>
  </div>

  <div class="warning">
    <h2>üîí Security Note</h2>
    <p><strong>Important:</strong> The test rules above allow anyone to read/write your database. Before going live:</p>
    <ol>
      <li>Change the Firestore rules to be more restrictive</li>
      <li>Consider implementing user authentication</li>
      <li>Add rate limiting to prevent spam</li>
    </ol>
  </div>

  <div class="step">
    <h2>üöÄ Alternative: Keep Current System</h2>
    <p>Your current local chat system is already working great! You can:</p>
    <ul>
      <li>‚úÖ Send and receive messages</li>
      <li>‚úÖ Get bot responses</li>
      <li>‚úÖ Save message history</li>
      <li>‚úÖ Play all 4 games</li>
      <li>‚úÖ Use themes and emojis</li>
      <li>‚úÖ No external dependencies</li>
    </ul>
    <p><strong>Recommendation:</strong> Keep the current system unless you specifically need real-time messaging between different users on different devices.</p>
  </div>
</body>
</html>
